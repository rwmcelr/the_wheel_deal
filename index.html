<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Circle Time Fun House</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="wheel_container">
      <canvas id="wheel" width="400" height="400"></canvas>
      <div id="arrow"></div>
      <div id="spin">SPIN</div>
    </div>

          <div id="controls">
        <button id="editToggle">Edit</button>
        <div id="saveControls" style="display:none;">
          <div style="display:flex; align-items:center; gap:8px; justify-content:center; flex-wrap:wrap;">
            <select id="storageType" title="Wheel Source">
              <option value="local">Me Wheels</option>
              <option value="github">We Wheels</option>
            </select>
            <select id="loadWheelDropdown">
              <option value="">-- Load Saved Wheel --</option>
            </select>
            <button id="saveWheel">Save</button>
          </div>
        </div>
      <div id="editControls">
        <label for="sliceCount">Slices: <span id="sliceCountLabel">7</span></label><br />
        <input type="range" id="sliceCount" min="2" max="12" value="7" />
        <br />
        <label for="paletteSelect">Color Palette:</label>
        <select id="paletteSelect"></select>
      </div>
      <div id="editor"></div>
      <div id="editorButtons" style="display:none; flex-direction:column; align-items:center; gap:10px; margin-top:10px;">
        <button id="shuffleColors">Shuffle Colors!</button>
        <button id="specificColors">Me Pick</button>
        <button id="showHistogram">100 Spins!</button>
      </div>
      <div id="specificColorsContainer" style="display:none; margin-top:10px;"></div>
      <div id="histogramContainer" style="display:none; margin-top:20px;"></div>
      <div id="colorPickerModal" class="hidden-overlay">
        <div id="pickrModalContent">
          <button id="closePickrButton">Close</button>
          <div id="sliceButtonsContainer"></div>
          <div id="pickrHolder">
            <div id="pickrContainer"></div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/themes/classic.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/pickr.min.js"></script>
    <script src="app.js"></script>
  </body>
</html>
